---
layout: default
title: 카테고리
permalink: /categories/
---
{% assign esc_ctgname="{{ hash }}" %}
{% assign esc_title="{{ p.title }}" %}
{% assign esc_date="{{ p.date }}" %}
{% assign esc_content="{{ p.content }}" %}
{% assign esc_image="{{ p.image }}" %}
{% assign esc_url="{{ p.url }}" %}

<div class="home py-4 py-md-5">
  <div id="postsList" class="row">
  </div>
</div> 
<script>
  var div = window.location.hash.indexOf('?');
  var hash = decodeURI(window.location.hash.substr(1, div-1));
  axios.get('/posts.json')
    .then(function (response) {
      var a = response.data;
      console.log(response);
      var posts2 = [];
      for(var i = 0; i < response.data.posts.length; i++){
        var posts = response.data.posts[i];
        var categories = posts.categories[0];

        if( categories === window.hash ){
          posts2.push(posts);
        }
      }
      console.log(hash);
      console.log(posts2);
      printPostsList(posts2);
    }).catch(function (error) {
      console.log(error);
    });
    function printPostsList(posts){
      for(var i = 0; i < posts.length; i++){
        var my = posts[i];

        var html = "";
        html += '<div class="col-12 col-md-6 col-lg-4">';
        html += '<a href="" class="index-anchor">';
        html += '<div class="card rounded overflow-hidden">';
        html += '<div class="image">';
        if( my.image ){
        html += `<img src="${my.image}" alt="${my.title} 이미지" >`;
        }
        html += '<div class="card-body">';
        html += `<h3 class="panel-title font-weight-bold">${my.title}</h3>`;
        html += `<p class="p-0 my-1 mx-0"><span class="post-meta"><small>${my.date}</small></span></p>`;
        html += `<p>${my.content}</p>`;
        html += '</div>';
        html += '</div>';
        html += '</div>';
        html += '</a>';
        html += '</div>';

        $('#postsList').append(html);
      }
    }
</script>